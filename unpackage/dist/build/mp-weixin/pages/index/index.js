(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"04e1":function(e,t,n){"use strict";var i=n("43ac"),c=n.n(i);c.a},"0743":function(e,t,n){"use strict";n.r(t);var i=n("5d50"),c=n("264c");for(var o in c)"default"!==o&&function(e){n.d(t,e,function(){return c[e]})}(o);n("04e1");var u=n("2877"),r=Object(u["a"])(c["default"],i["a"],i["b"],!1,null,"444f66f1",null);t["default"]=r.exports},"264c":function(e,t,n){"use strict";n.r(t);var i=n("562e"),c=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t["default"]=c.a},"43ac":function(e,t,n){},"562e":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("c84c"),c=function(){return n.e("components/ad").then(n.bind(null,"f23c"))},o={supportDiceNumbers:[5,6,7,8,9,4,3,2,1],close:!1,closeTime:.25,range:3,max:6,minCount:5},u={components:{MyAd:c},data:function(){return{played:!1,index:e.getStorageSync("diceCountIndex")||0,supportDiceNumbers:o.supportDiceNumbers,button:i.button,dices:[],results:[],diceImgs:[i.dice1,i.dice2,i.dice3,i.dice4,i.dice5,i.dice6],innerAudioContext:e.createInnerAudioContext(),diceConfig:i.diceConfig}},computed:{points:function(){var e=this.dices.reduce(function(e,t){return e+t},0);return e},lessThenMin:function(){return this.diceCount<o.minCount},diceCount:function(){return this.supportDiceNumbers[this.index]},diceStyles:function(){var e=this.diceConfig[this.diceCount],t=e.w,n=e.los,i=[];return n.forEach(function(e,n){i.push("left: ".concat(t*e.l/2,"px;top: ").concat(t*e.t/2,"px;"))}),i}},onLoad:function(){this.initDices(),this.listenShake(),this.innerAudioContext.src="http://file.kvker.com/683ac81df66b02fa9d05/sound.mp3",e.showShareMenu({withShareTicket:!1})},onShareAppMessage:function(){return{title:"君子九个骰，小人瑟瑟抖。"}},methods:{changePicker:function(t){var n=Number(t.detail.value);this.index=n,this.initDices(),this.results=[],this.played=!1,e.setStorage({key:"diceCountIndex",data:n,success:function(e){}})},getDiceStyle:function(){var e=this.diceConfig[this.diceCount],t=e.w,n=e.lo,i=n[index];return"left: ".concat(t*i.l,"upx;top: ").concat(t*i.t,"upx;")},initDices:function(){for(var e=[],t=0;t<this.diceCount;t++)e.push(6);this.dices=e},listenShake:function(){var t=this;return e.onAccelerometerChange(function(e){var n=o.range;if(e.x>n||e.y>n||e.z>n)return t.changeDices()})},changeDices:function(){if(!o.close){this.played=!0,this.innerAudioContext.stop(),this.innerAudioContext.play();for(var t=[],n=0;n<this.diceCount;n++)t.push(Math.floor(Math.random()*o.max)+1);if(this.dices=t,e.vibrateLong(),!this.lessThenMin)return this.handleDices(t),o.close=!0,setTimeout(function(){return o.close=!1},1e3*o.closeTime)}},handleDices:function(e){var t=[];if(Array.from(new Set(e)).length===this.diceCount)t.push("顺子, 全部为 0 个");else for(var n=0,i=0;i<o.max;i++){var c=i+1,u=this.howManyCount(c),r=this.diceCount;u=u===r?r+1:u+n,t.push({count:u,dice:c}),1===c&&(n=u)}this.results=t},howManyCount:function(e){for(var t=0,n=this.dices,i=0;i<n.length;i++){var c=n[i];c===e&&t++}return t},clickHelp:function(){e.navigateTo({url:"/pages/help/index"})}}};t.default=u}).call(this,n("543d")["default"])},"5d50":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},c=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c})},c969:function(e,t,n){"use strict";(function(e){n("6bc9"),n("921b");i(n("66fd"));var t=i(n("0743"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])}},[["c969","common/runtime","common/vendor"]]]);