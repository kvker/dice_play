(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/index/index"],{2125:function(t,e,i){"use strict";var s=i("a783"),n=i.n(s);n.a},"693c":function(t,e,i){"use strict";i.r(e);var s=i("950e"),n=i("6a77");for(var c in n)"default"!==c&&function(t){i.d(e,t,function(){return n[t]})}(c);i("2125");var a=i("2877"),r=Object(a["a"])(n["default"],s["a"],s["b"],!1,null,"31d6eb88",null);e["default"]=r.exports},"6a77":function(t,e,i){"use strict";i.r(e);var s=i("ed9b"),n=i.n(s);for(var c in s)"default"!==c&&function(t){i.d(e,t,function(){return s[t]})}(c);e["default"]=n.a},"950e":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"container",attrs:{_hid:0}},[i("view",{staticClass:"ctrls",attrs:{_hid:1}},[i("picker",{staticClass:"picker-dice-number",attrs:{value:t.index,range:t.supportDiceNumbers,_hid:2,_batrs:"value,range"},on:{change:t.changePicker}},[i("text",{attrs:{_hid:3}},[t._v("数量: "+t._s(t.supportDiceNumbers[t.index]),4)])]),i("image",{staticClass:"change change-image",attrs:{src:t.button,"hover-class":"change-hover",_hid:5,_batrs:"src"},on:{click:t.changeDices}}),i("button",{staticClass:"help",attrs:{_hid:6},on:{click:t.clickHelp}},[])],1),i("view",{staticClass:"dices",attrs:{_hid:8}},t._l(t.dices,function(e,s,n){var c=void 0!==n?n:s;return i("view",{key:s,staticClass:"dice",style:t.diceStyles[s],attrs:{_hid:9,_fid:c,_fk:"index"}},[i("img",{staticClass:"dice-image",attrs:{mode:"aspectFit",src:t.diceImgs[e-1],_hid:10,_fid:c,_batrs:"src"}})])},9,t._self)),t._ri(!(!t.lessThenMin||!t.played),11)?i("view",{staticClass:"results",attrs:{_hid:11}},[i("text",{staticClass:"straight",attrs:{_hid:12}},[t._v(t._s(t.points)+"点",13)])]):t._e(),t._ri(!(1!==t.results.length),14)?i("view",{staticClass:"results",attrs:{_hid:14}},[i("text",{staticClass:"straight",attrs:{_hid:15}},[])]):i("view",{staticClass:"results",attrs:{_hid:17}},t._l(t.results,function(e,s,n){var c=void 0!==n?n:s;return i("view",{key:s,staticClass:"result",attrs:{_hid:18,_fid:c,_fk:"index"}},[i("text",{attrs:{_hid:19,_fid:c}},[t._v(t._s(e.count)+" 个",20,c)]),i("image",{staticClass:"dice-small",attrs:{src:t.diceImgs[e.dice-1],_hid:21,_fid:c,_batrs:"src"}})])},18,t._self)),i("my-ad",{attrs:{_hid:22,_cid:0}})],1)},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},"963b":function(t,e,i){"use strict";i("0442");var s=c(i("693c")),n=c(i("3a53"));function c(t){return t&&t.__esModule?t:{default:t}}s.default.mpType="page";var a=new n.default(s.default);a.$mount()},a783:function(t,e,i){},ed9b:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=c(i("bd56")),n=i("ebc5");function c(t){return t&&t.__esModule?t:{default:t}}var a={supportDiceNumbers:[5,6,7,8,9,4,3,2,1],close:!1,closeTime:.25,range:3,max:6,minCount:5},r={components:{MyAd:s.default},data:function(){return{played:!1,index:t.getStorageSync("diceCountIndex")||0,supportDiceNumbers:a.supportDiceNumbers,button:n.button,dices:[],results:[],diceImgs:[n.dice1,n.dice2,n.dice3,n.dice4,n.dice5,n.dice6],diceConfig:n.diceConfig}},computed:{points:function(){var t=this.dices.reduce(function(t,e){return t+e},0);return t},lessThenMin:function(){return this.diceCount<a.minCount},diceCount:function(){return this.supportDiceNumbers[this.index]},diceStyles:function(){var t=this.diceConfig[this.diceCount],e=t.w,i=t.los,s=[];return i.forEach(function(t,i){s.push("left: ".concat(e*t.l/2,"px;top: ").concat(e*t.t/2,"px;"))}),s}},onLoad:function(){this.initDices(),this.listenShake()},onShareAppMessage:function(){return{title:"君子九个骰，小人瑟瑟抖。"}},methods:{changePicker:function(e){var i=Number(e.detail.value);this.index=i,this.initDices(),this.results=[],this.played=!1,t.setStorage({key:"diceCountIndex",data:i,success:function(t){}})},getDiceStyle:function(){var t=this.diceConfig[this.diceCount],e=t.w,i=t.lo,s=i[index];return"left: ".concat(e*s.l,"upx;top: ").concat(e*s.t,"upx;")},initDices:function(){for(var t=[],e=0;e<this.diceCount;e++)t.push(6);this.dices=t},listenShake:function(){var e=this;return t.onAccelerometerChange(function(t){var i=a.range;if(t.x>i||t.y>i||t.z>i)return e.changeDices()})},changeDices:function(){if(!a.close){this.played=!0;for(var e=[],i=0;i<this.diceCount;i++)e.push(Math.floor(Math.random()*a.max)+1);if(this.dices=e,t.vibrateLong(),!this.lessThenMin)return this.handleDices(e),a.close=!0,setTimeout(function(){return a.close=!1},1e3*a.closeTime)}},handleDices:function(t){var e=[];if(Array.from(new Set(t)).length===this.diceCount)e.push("顺子, 全部为 0 个");else for(var i=0,s=0;s<a.max;s++){var n=s+1,c=this.howManyCount(n),r=this.diceCount;c=c===r?r+1:c+i,e.push({count:c,dice:n}),1===n&&(i=c)}this.results=e},howManyCount:function(t){for(var e=0,i=this.dices,s=0;s<i.length;s++){var n=i[s];n===t&&e++}return e},clickHelp:function(){t.navigateTo({url:"/pages/help/index"})}}};e.default=r}).call(this,i("c11b")["default"])}},[["963b","common/runtime","common/vendor"]]]);